<h1>Pricing Plans</h1>
<p-confirmPopup></p-confirmPopup>
<p-toast></p-toast>
<div class="flex gap-4">
  <p-button label="Create Pricing Plan" icon="pi pi-envelope" iconPos="right" (onClick)="startCreatingNewPricingPlan()"></p-button>
  <p-button label="Cancel" icon="pi pi-times" iconPos="right" (onClick)="cancelCreationOfNewPricingPlan()" *ngIf="createPricingPlan"></p-button>
</div>
<ng-container *ngIf="createPricingPlan">
  <div class="surface-card p-3 shadow-2 border-round my-3 max-w-max">
    <div class="text-3xl font-medium text-900 mb-4">New Pricing Plan</div>
    <div class="flex flex-column px-2 surface-border w-max">
      <div class="flex justify-content-between align-items-center w-full pb-3">
        <div class="text-900 font-medium pr-3 white-space-nowrap">Name</div>
        <input type="text" pInputText [(ngModel)]="newPricingPlan.name" />
      </div>
      <div class="flex justify-content-between align-items-center w-full pb-3">
        <div class="text-900 font-medium pr-3 white-space-nowrap">Price</div>
        <p-inputNumber
          [(ngModel)]="newPricingPlan.price"
          suffix=" CLP"
          [showButtons]="true"
          buttonLayout="horizontal"
          inputId="horizontal"
          incrementButtonIcon="pi pi-plus"
          decrementButtonIcon="pi pi-minus"
          [step]="10000"
        ></p-inputNumber>
      </div>
      <div class="flex justify-content-between align-items-center w-full pb-3">
        <div class="text-900 font-medium pr-3 white-space-nowrap">Discount</div>
        <p-inputNumber
          [(ngModel)]="newPricingPlan.discount"
          suffix="%"
          [showButtons]="true"
          buttonLayout="horizontal"
          inputId="horizontal"
          incrementButtonIcon="pi pi-plus"
          decrementButtonIcon="pi pi-minus"
          [step]="1"
        ></p-inputNumber>
      </div>
      <div class="flex justify-content-between align-items-center w-full">
        <div class="text-900 font-medium pr-3 white-space-nowrap">Discount Message</div>
        <textarea pInputTextarea [(ngModel)]="newPricingPlan.discountMessage" class="text-area-max-width"></textarea>
      </div>
      <div class="mt-3">
        <p-button label="Save Pricing Plan" icon="pi pi-save" iconPos="right" (onClick)="confirmSaveNewPricingPlan($event)"></p-button>
      </div>
    </div>
  </div>
</ng-container>
<p-divider></p-divider>

<div class="flex flex-wrap gap-4">
  <ng-container *ngIf="premiumPricingPlan !== undefined">
    <div class="surface-card p-3 shadow-2 border-round my-3 max-w-max">
      <div class="text-3xl font-medium text-900 mb-4">Premium</div>
      <div class="flex flex-column px-2 surface-border w-max">
        <div class="flex justify-content-between align-items-center w-full pb-3">
          <div class="text-900 font-medium pr-3 white-space-nowrap">Name</div>
          <input type="text" pInputText [(ngModel)]="premiumPricingPlan.name" />
        </div>
        <div class="flex justify-content-between align-items-center w-full pb-3">
          <div class="text-900 font-medium pr-3 white-space-nowrap">Price</div>
          <p-inputNumber
            [(ngModel)]="premiumPricingPlan.price"
            suffix=" CLP"
            [showButtons]="true"
            buttonLayout="horizontal"
            inputId="horizontal"
            incrementButtonIcon="pi pi-plus"
            decrementButtonIcon="pi pi-minus"
            [step]="10000"
            [min]="0"
          ></p-inputNumber>
        </div>
        <div class="flex justify-content-between align-items-center w-full pb-3">
          <div class="text-900 font-medium pr-3 white-space-nowrap">Discount</div>
          <p-inputNumber
            [(ngModel)]="premiumPricingPlan.discount"
            suffix="%"
            [showButtons]="true"
            buttonLayout="horizontal"
            inputId="horizontal"
            incrementButtonIcon="pi pi-plus"
            decrementButtonIcon="pi pi-minus"
            [step]="1"
            [min]="0"
            [max]="100"
          ></p-inputNumber>
        </div>
        <div class="flex justify-content-between align-items-center w-full">
          <div class="text-900 font-medium pr-3 white-space-nowrap">Discount Message</div>
          <textarea pInputTextarea [(ngModel)]="premiumPricingPlan.discountMessage" class="text-area-max-width"></textarea>
        </div>
        <div class="mt-3 flex gap-4">
          <p-button label="Delete " icon="pi pi-trash" iconPos="right" (onClick)="confirmDeletePricingPlan($event, premiumPricingPlan)"></p-button>
          <p-button label="Save " icon="pi pi-save" iconPos="right" (onClick)="confirmUpdatePricingPlan($event, premiumPricingPlan)"></p-button>
        </div>
      </div>
    </div>
  </ng-container>
  <ng-container *ngIf="regularPricingPlan !== undefined">
    <div class="surface-card p-3 shadow-2 border-round my-3 max-w-max">
      <div class="text-3xl font-medium text-900 mb-4">Regular</div>
      <div class="flex flex-column px-2 surface-border w-max">
        <div class="flex justify-content-between align-items-center w-full pb-3">
          <div class="text-900 font-medium pr-3 white-space-nowrap">Name</div>
          <input type="text" pInputText [(ngModel)]="regularPricingPlan.name" />
        </div>
        <div class="flex justify-content-between align-items-center w-full pb-3">
          <div class="text-900 font-medium pr-3 white-space-nowrap">Price</div>
          <p-inputNumber
            [(ngModel)]="regularPricingPlan.price"
            suffix=" CLP"
            [showButtons]="true"
            buttonLayout="horizontal"
            inputId="horizontal"
            incrementButtonIcon="pi pi-plus"
            decrementButtonIcon="pi pi-minus"
            [min]="0"
            [step]="10000"
          ></p-inputNumber>
        </div>
        <div class="flex justify-content-between align-items-center w-full pb-3">
          <div class="text-900 font-medium pr-3 white-space-nowrap">Discount</div>
          <p-inputNumber
            [(ngModel)]="regularPricingPlan.discount"
            suffix="%"
            [showButtons]="true"
            buttonLayout="horizontal"
            inputId="horizontal"
            incrementButtonIcon="pi pi-plus"
            decrementButtonIcon="pi pi-minus"
            [step]="1"
            [min]="0"
            [max]="100"
          ></p-inputNumber>
        </div>
        <div class="flex justify-content-between align-items-center w-full">
          <div class="text-900 font-medium pr-3 white-space-nowrap">Discount Message</div>
          <textarea pInputTextarea [(ngModel)]="regularPricingPlan.discountMessage" class="text-area-max-width"></textarea>
        </div>
        <div class="mt-3 flex gap-4">
          <p-button label="Delete " icon="pi pi-trash" iconPos="right" (onClick)="confirmDeletePricingPlan($event, regularPricingPlan)"></p-button>
          <p-button label="Save " icon="pi pi-save" iconPos="right" (onClick)="confirmUpdatePricingPlan($event, regularPricingPlan)"></p-button>
        </div>
      </div>
    </div>
  </ng-container>
  <ng-container *ngIf="economicPricingPlan! !== undefined">
    <div class="surface-card p-3 shadow-2 border-round my-3 max-w-max">
      <div class="text-3xl font-medium text-900 mb-4">Economic</div>
      <div class="flex flex-column px-2 surface-border w-max">
        <div class="flex justify-content-between align-items-center w-full pb-3">
          <div class="text-900 font-medium pr-3 white-space-nowrap">Name</div>
          <input type="text" pInputText [(ngModel)]="economicPricingPlan.name" />
        </div>
        <div class="flex justify-content-between align-items-center w-full pb-3">
          <div class="text-900 font-medium pr-3 white-space-nowrap">Price</div>
          <p-inputNumber
            [(ngModel)]="economicPricingPlan.price"
            suffix=" CLP"
            [showButtons]="true"
            buttonLayout="horizontal"
            inputId="horizontal"
            incrementButtonIcon="pi pi-plus"
            decrementButtonIcon="pi pi-minus"
            [min]="0"
            [step]="10000"
          ></p-inputNumber>
        </div>
        <div class="flex justify-content-between align-items-center w-full pb-3">
          <div class="text-900 font-medium pr-3 white-space-nowrap">Discount</div>
          <p-inputNumber
            [(ngModel)]="economicPricingPlan.discount"
            suffix="%"
            [showButtons]="true"
            buttonLayout="horizontal"
            inputId="horizontal"
            incrementButtonIcon="pi pi-plus"
            decrementButtonIcon="pi pi-minus"
            [min]="0"
            [max]="100"
            [step]="1"
          ></p-inputNumber>
        </div>
        <div class="flex justify-content-between align-items-center w-full">
          <div class="text-900 font-medium pr-3 white-space-nowrap">Discount Message</div>
          <textarea pInputTextarea [(ngModel)]="economicPricingPlan.discountMessage" class="text-area-max-width"></textarea>
        </div>
        <div class="mt-3 flex gap-4">
          <p-button label="Delete " icon="pi pi-trash" iconPos="right" (onClick)="confirmDeletePricingPlan($event, economicPricingPlan)"></p-button>
          <p-button label="Save" icon="pi pi-save" iconPos="right" (onClick)="confirmUpdatePricingPlan($event, economicPricingPlan)"></p-button>
        </div>
      </div>
    </div>
  </ng-container>
</div>

<ng-container *ngIf="false">
  <h1 class="mt-5">Banner</h1>
  <ng-container *ngIf="banner !== undefined">
    <div class="bg-cyan-600 text-white p-3 flex justify-content-between align-items-center flex-wrap shadow-2" style="border-radius: 8px">
      <div class="font-bold text-xl">{{ banner.title }}</div>
      <div class="align-items-center flex">
        <span class="line-height-2 white-space-normal banner-message w-8">{{ banner.message }}</span>
        <a class="flex align-items-center ml-2"> </a>
      </div>
      <a
        pRipple
        class="flex align-items-center no-underline justify-content-center border-circle text-gray-50 hover:bg-cyan-400 cursor-pointer transition-colors transition-duration-150"
        style="width: 2rem; height: 2rem"
        (click)="closeBanner()"
      >
        <i class="pi pi-times"></i>
      </a>
    </div>
    <div class="surface-card p-3 shadow-2 border-round my-3 max-w-max">
      <div class="text-3xl font-medium text-900 mb-4">Edit Banner</div>
      <div class="flex flex-column px-2 surface-border w-max">
        <div class="flex justify-content-between align-items-center w-full pb-3">
          <div class="text-900 font-medium pr-3 white-space-nowrap">Title</div>
          <input type="text" pInputText [(ngModel)]="banner.title" />
        </div>
        <div class="flex justify-content-between align-items-center w-full pb-3">
          <div class="text-900 font-medium pr-3 white-space-nowrap">Message</div>
          <textarea pInputTextarea [(ngModel)]="banner.message" class="text-area-max-width"></textarea>
        </div>
        <div class="mt-3 flex gap-4">
          <p-button label="Cancel " icon="pi pi-trash" iconPos="right" (onClick)="initiateBanner()"></p-button>
          <p-button label="Save" icon="pi pi-save" iconPos="right" (onClick)="confirmUpdateBanner($event)"></p-button>
        </div>
      </div>
    </div>
  </ng-container>
</ng-container>
